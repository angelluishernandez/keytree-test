<app-error-handler></app-error-handler>

<div class="main-container">
  <mat-card class="search-box">
    <mat-card-content>
      <mat-form-field class="search-box-input-field">
        <mat-label>Search for a Github user</mat-label>
        <input matInput type="text" [formControl]="username" />
        <mat-error>You must provide a valid username</mat-error>
      </mat-form-field>
    </mat-card-content>

    <mat-card-actions class="search-box-actions">
      <button
        class="repos-button"
        mat-raised-button
        color="primary"
        (click)="handleSubmit('user')"
      >
        Repos
      </button>
      <button
        class="orgs-button"
        mat-raised-button
        color="primary"
        (click)="handleSubmit('organizations')"
      >
        Organizations
      </button>
    </mat-card-actions>
  </mat-card>
</div>

<div class="dashboard-router">
  <div class="spinner-container" *ngIf="this.isLoading; else isNotLoading">
    <mat-spinner mode="indeterminate" color="accent"></mat-spinner>
  </div>
  <ng-template #isNotLoading>
    <router-outlet></router-outlet>
  </ng-template>
</div>
